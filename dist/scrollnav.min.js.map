{"version":3,"file":"scrollnav.min.js","sources":["../src/util/extend.js","../src/util/getOrSetID.js","../src/util/getYPosition.js","../src/util/nextUntil.js","../src/util/populateSectionData.js","../src/util/createList.js","../src/util/createNav.js","../src/util/insertNav.js","../src/util/updatePositionData.js","../src/util/insertVisualDebugger.js","../src/util/getTargetYPosition.js","../src/util/calculateScrollDuration.js","../src/util/easing.js","../src/scrollTo.js","../src/setupClickHandlers.js","../src/util/getActiveSection.js","../src/util/updateActiveNavItem.js","../src/setupScrollHandler.js","../src/setupResizeHandler.js","../src/teardownClickHandlers.js","../src/teardownScrollHandler.js","../src/teardownResizeHandler.js","../src/scrollnav.js"],"sourcesContent":["/* Borrowed from https://gist.github.com/cferdinandi/4f8a0e17921c5b46e6c4 */\n\nexport default function extend(defaults, options) {\n  const extended = {};\n  let prop;\n\n  for (prop in defaults) {\n    if (Object.prototype.hasOwnProperty.call(defaults, prop)) {\n      extended[prop] = defaults[prop];\n    }\n  }\n\n  for (prop in options) {\n    if (Object.prototype.hasOwnProperty.call(options, prop)) {\n      extended[prop] = options[prop];\n    }\n  }\n\n  return extended;\n}\n","export default function getOrSetID(elem, setID) {\n  if (typeof elem !== 'object') {\n    return Promise.reject(new Error('First argument must be an object'));\n  }\n\n  let id = elem.id;\n\n  if (!id) {\n    if (typeof setID !== 'string') {\n      return Promise.reject(new Error('Second argument must be a string'));\n    }\n\n    id = setID;\n    elem.id = id;\n  }\n  return id;\n}\n","export default function getYPosition(elem, parent) {\n  if (typeof elem !== 'object') {\n    return Promise.reject(new Error('First argument must be an object'));\n  }\n\n  parent = parent || document.body;\n  if (typeof parent !== 'object') {\n    return Promise.reject(new Error('Second argument must be an object'));\n  }\n\n  const bodyRect = parent.getBoundingClientRect();\n  const elemRect = elem.getBoundingClientRect();\n\n  return elemRect.top - bodyRect.top;\n}\n","/* Borrowed from https://github.com/cferdinandi/nextUntil */\n\nexport default function nextUntil(elem, selector, filter) {\n  var siblings = [];\n\n  elem = elem.nextElementSibling;\n\n  while (elem) {\n    if (elem.matches(selector)) break;\n\n    if (filter && !elem.matches(filter)) {\n      elem = elem.nextElementSibling;\n      continue;\n    }\n\n    siblings.push(elem);\n\n    elem = elem.nextElementSibling;\n  }\n\n  return siblings;\n}\n","import getOrSetID from './getOrSetID';\nimport getYPosition from './getYPosition';\nimport nextUntil from './nextUntil';\n\nexport default function populateSectionData(\n  sections,\n  settings,\n  prefix = 'scroll-nav'\n) {\n  const sectionData = [];\n  prefix = prefix + '__';\n\n  sections.forEach((elem, i) => {\n    let subSectionData = [];\n    const id = getOrSetID(elem, prefix + (i + 1));\n\n    if (settings.subSections && elem.matches(settings.sections)) {\n      const subSectionDom = nextUntil(\n        elem,\n        settings.sections,\n        settings.subSections\n      );\n      subSectionData = populateSectionData(subSectionDom, settings, id);\n    }\n\n    sectionData.push({\n      id: id,\n      text: elem.innerText || elem.textContent,\n      offsetTop: getYPosition(elem),\n      subSections: subSectionData\n    });\n  });\n\n  return sectionData;\n}\n","export default function createList(data, isSubList = false) {\n  const suffix = isSubList ? '__sub-' : '__';\n  const baseClass = 'scroll-nav' + suffix;\n\n  let olElem = document.createElement('ol');\n  olElem.classList.add(baseClass + 'list');\n\n  data.forEach(function(item) {\n    let liElem = document.createElement('li');\n    liElem.classList.add(baseClass + 'item');\n    liElem.setAttribute('data-sn-section', item.id);\n    olElem.appendChild(liElem);\n\n    let aElem = document.createElement('a');\n    aElem.classList.add(baseClass + 'link');\n    aElem.setAttribute('href', '#' + item.id);\n    let linkText = document.createTextNode(item.text);\n    aElem.appendChild(linkText);\n    liElem.appendChild(aElem);\n\n    if (item.subSections.length) {\n      let subList = createList(item.subSections, true);\n      liElem.appendChild(subList);\n    }\n  });\n\n  return olElem;\n}\n","import createList from './createList';\n\nexport default function createNav(data) {\n  const nav = document.createElement('nav');\n  nav.className = 'scroll-nav';\n  nav.appendChild(createList(data));\n\n  return nav;\n}\n","export default function insertNav(scrollnav) {\n  const target = scrollnav.settings.insertTarget;\n  const location = scrollnav.settings.insertLocation;\n\n  if (location === 'append') {\n    target.appendChild(scrollnav.nav);\n  } else if (location === 'prepend') {\n    target.insertBefore(scrollnav.nav, target.firstChild);\n  } else if (location === 'before') {\n    target.parentNode.insertBefore(scrollnav.nav, target);\n  } else if (location === 'after') {\n    target.parentNode.insertBefore(scrollnav.nav, target.nextSibling);\n  }\n}\n","import getYPosition from './getYPosition';\n\nexport default function updatePositionData(data) {\n  data.forEach(section => {\n    const sectionDom = document.querySelector(`#${section.id}`);\n    section.offsetTop = getYPosition(sectionDom);\n\n    if (section.subSections.length) {\n      section.subSections = updatePositionData(section.subSections);\n    }\n  });\n\n  return data;\n}\n","export default function insertVisualDebugger() {\n  const snDebugger = document.createElement('div');\n  snDebugger.className = 'snDebugger';\n\n  snDebugger.setAttribute(\n    'style',\n    `\n      position: fixed;\n      top: 40%;\n      height: 0px;\n      border-bottom:5px solid red;\n      border-top: 5px solid blue;\n      width: 100%;\n      opacity: .5;\n      pointer-events: none;\n    `\n  );\n\n  document.body.appendChild(snDebugger);\n}\n","export default function getTargetYPosition(target, data) {\n  let id = target.getAttribute('href');\n  if (id.charAt(0) === '#') {\n    id = id.substr(1);\n  }\n\n  const targetSection = filterData(data, id);\n\n  return targetSection.offsetTop;\n}\n\nfunction filterData(data, id) {\n  let targetSection;\n\n  data.forEach(section => {\n    if (section.id === id) {\n      targetSection = section;\n    }\n\n    if (section.subSections && targetSection === undefined) {\n      targetSection = filterData(section.subSections, id);\n    }\n  });\n\n  return targetSection;\n}\n","export default function calculateScrollDuration(distance) {\n  const halfDistance = Math.abs(distance / 2);\n\n  return Math.min(Math.max(halfDistance, 250), 1200);\n}\n","/* Borrowed from https://gist.github.com/gre/1650294#gistcomment-1806616 */\n\nconst easeIn = p => t => Math.pow(t, p);\nconst easeOut = p => t => 1 - Math.abs(Math.pow(t - 1, p));\nconst easeInOut = p => t =>\n  t < 0.5 ? easeIn(p)(t * 2) / 2 : easeOut(p)(t * 2 - 1) / 2 + 0.5;\n\nconst easing = {\n  linear: easeInOut(1),\n  easeInQuad: easeIn(2),\n  easeOutQuad: easeOut(2),\n  easeInOutQuad: easeInOut(2),\n  easeInCubic: easeIn(3),\n  easeOutCubic: easeOut(3),\n  easeInOutCubic: easeInOut(3),\n  easeInQuart: easeIn(4),\n  easeOutQuart: easeOut(4),\n  easeInOutQuart: easeInOut(4),\n  easeInQuint: easeIn(5),\n  easeOutQuint: easeOut(5),\n  easeInOutQuint: easeInOut(5)\n};\n\nexport { easing };\n","import calculateScrollDuration from './util/calculateScrollDuration';\nimport { easing } from './util/easing';\n\n/* istanbul ignore next */\nexport default function scrollTo(targetPosition, easingStyle) {\n  return new Promise((resolve, reject) => {\n    if (typeof targetPosition !== 'number') {\n      return reject(new Error('First argument must be a number'));\n    }\n\n    easingStyle = easingStyle || 'linear';\n    if (typeof easingStyle !== 'string') {\n      return reject(new Error('Second argument must be a string'));\n    }\n\n    const startingPosition = window.pageYOffset;\n    const distance = targetPosition - startingPosition;\n    const duration = calculateScrollDuration(distance);\n    const framerate = 50;\n    const increment = 1000 / framerate;\n    let ellapsedTime = 0;\n    let easedTime;\n    let next;\n\n    function animateScroll() {\n      ellapsedTime += increment;\n      easedTime = easing[easingStyle](ellapsedTime / duration);\n      next = easedTime * distance + startingPosition;\n      window.scroll(0, next);\n\n      if (ellapsedTime < duration) {\n        setTimeout(animateScroll, increment);\n      } else {\n        resolve(window.pageYOffset);\n      }\n    }\n\n    animateScroll();\n  });\n}\n","import getTargetYPosition from './util/getTargetYPosition';\nimport scrollTo from './scrollTo';\n\nexport default function setupClickHandlers(scrollnav) {\n  const settings = scrollnav.settings;\n  function clickHandler(event) {\n    event.preventDefault();\n\n    const activeArea = window.innerHeight * 0.39;\n    const targetYPosition = getTargetYPosition(event.target, scrollnav.data);\n    const scrollYTarget = targetYPosition - activeArea;\n\n    /* istanbul ignore next */\n    return scrollTo(scrollYTarget, settings.easingStyle).then(() => {\n      if (settings.updateHistory) {\n        history.replaceState({}, '', event.target.getAttribute('href'));\n      }\n\n      if (settings.onScroll) {\n        settings.onScroll();\n      }\n    });\n  }\n\n  const links = scrollnav.nav.querySelectorAll('a');\n  links.forEach(link => {\n    link.addEventListener('click', clickHandler);\n  });\n\n  return clickHandler;\n}\n","export default function getActiveSection(data, boundryTop, boundryBottom) {\n  let activeSection;\n\n  data.forEach(section => {\n    if (section.offsetTop > boundryBottom) {\n      if (!activeSection && section.offsetTop < boundryTop) {\n        activeSection = section;\n      }\n    } else {\n      activeSection = section;\n    }\n  });\n\n  if (activeSection && activeSection.subSections.length) {\n    let activeSubSection;\n\n    activeSubSection = getActiveSection(\n      activeSection.subSections,\n      boundryTop,\n      boundryBottom\n    );\n\n    if (activeSubSection) {\n      activeSection = activeSubSection;\n    }\n  }\n\n  return activeSection;\n}\n","export default function updateActiveNavItem(activeSection, nav) {\n  const previousActive = nav.querySelector('[data-sn-active]');\n\n  if (!activeSection) {\n    if (previousActive) {\n      previousActive.classList.remove('scroll-nav__item--active');\n      previousActive.removeAttribute('data-sn-active');\n    }\n\n    return;\n  }\n\n  const newActive = nav.querySelector(\n    '[data-sn-section=' + activeSection.id + ']'\n  );\n\n  if (newActive && newActive !== previousActive) {\n    if (previousActive) {\n      previousActive.classList.remove('scroll-nav__item--active');\n      previousActive.removeAttribute('data-sn-active');\n    }\n    newActive.classList.add('scroll-nav__item--active');\n    newActive.setAttribute('data-sn-active', true);\n  }\n}\n","import getActiveSection from './util/getActiveSection';\nimport updateActiveNavItem from './util/updateActiveNavItem';\n\nexport default function setupScrollHandler(scrollnav) {\n  function scrollHandler() {\n    const top = window.scrollY || window.pageYOffset || document.body.scrollTop;\n    const boundryTop = top;\n    const boundryBottom = top + window.innerHeight * 0.4;\n    const activeSection = getActiveSection(\n      scrollnav.data,\n      boundryTop,\n      boundryBottom\n    );\n\n    updateActiveNavItem(activeSection, scrollnav.nav);\n\n    return activeSection;\n  }\n\n  window.addEventListener('scroll', scrollHandler);\n\n  return scrollHandler;\n}\n","import updatePositionData from './util/updatePositionData';\n\nexport default function setupResizeHandler(scrollnav) {\n  function resizeHandler() {\n    scrollnav.data = updatePositionData(scrollnav.data);\n  }\n\n  window.addEventListener('resize', resizeHandler);\n\n  return resizeHandler;\n}\n","export default function teardownClickHandlers(nav, clickHandler) {\n  const links = nav.querySelectorAll('a');\n  links.forEach(link => {\n    link.removeEventListener('click', clickHandler);\n  });\n}\n","export default function teardownScrollHandler(scrollHandler) {\n  window.removeEventListener('scroll', scrollHandler);\n}\n","export default function teardownResizelHandler(resizeHandler) {\n  window.removeEventListener('resize', resizeHandler);\n}\n","/*\n * scrollnav\n * http://scrollnav.com\n *\n * Copyright (c) 2013-2018 James Wilson\n * Licensed under the MIT license.\n */\n\nimport extend from './util/extend';\nimport populateSectionData from './util/populateSectionData';\nimport createNav from './util/createNav';\nimport insertNav from './util/insertNav';\nimport updatePositionData from './util/updatePositionData';\nimport insertVisualDebugger from './util/insertVisualDebugger';\nimport setupClickHandlers from './setupClickHandlers';\nimport setupScrollHandler from './setupScrollHandler';\nimport setupResizeHandler from './setupResizeHandler';\nimport teardownClickHandlers from './teardownClickHandlers';\nimport teardownScrollHandler from './teardownScrollHandler';\nimport teardownResizeHandler from './teardownResizeHandler';\n\nlet clickHandler;\nlet scrollHandler;\nlet resizeHandler;\n\nfunction isElement(element) {\n  return element instanceof Element;\n}\n\nfunction init(elem, options) {\n  const defaults = {\n    sections: 'h2',\n    insertTarget: elem,\n    insertLocation: 'before',\n    easingStyle: 'easeOutQuad',\n    updateHistory: true\n  };\n  this.settings = extend(defaults, options);\n  const locationOptions = ['append', 'prepend', 'after', 'before'];\n\n  if (!isElement(elem)) {\n    if (this.settings.debug) {\n      // eslint-disable-next-line no-console\n      console.error(`\n        scrollnav build failed, content argument \"${elem}\" is not an HTML Element\n      `);\n    }\n    return;\n  }\n\n  if (this.settings.insertTarget && !isElement(this.settings.insertTarget)) {\n    if (this.settings.debug) {\n      // eslint-disable-next-line no-console\n      console.error(`\n        scrollnav build failed, options.insertTarget \"${elem}\" is not an HTML Element\n      `);\n    }\n    return;\n  }\n\n  if (!locationOptions.includes(this.settings.insertLocation)) {\n    if (this.settings.debug) {\n      // eslint-disable-next-line no-console\n      console.error(`\n        scrollnav build failed, options.insertLocation \"${this.settings.insertLocation}\" is not a valid option\n      `);\n    }\n    return;\n  }\n\n  const sectionsDom = elem.querySelectorAll(this.settings.sections);\n\n  if (!sectionsDom.length) {\n    if (this.settings.debug) {\n      // eslint-disable-next-line no-console\n      console.error(`\n        scrollnav build failed, could not find any \"${this.settings.sections}\"\n        elements inside of \"${elem}\"\n      `);\n    }\n    return;\n  }\n\n  this.data = populateSectionData(sectionsDom, this.settings);\n  this.nav = createNav(this.data);\n\n  insertNav(this);\n  clickHandler = setupClickHandlers(this);\n  scrollHandler = setupScrollHandler(this);\n  resizeHandler = setupResizeHandler(this);\n\n  if (this.settings.debug) insertVisualDebugger();\n  if (this.settings.onInit) return this.settings.onInit();\n}\n\nfunction destroy(options) {\n  this.settings = extend(this.settings, options);\n\n  teardownClickHandlers(this.nav, clickHandler);\n  teardownScrollHandler(scrollHandler);\n  teardownResizeHandler(resizeHandler);\n  this.nav.remove();\n\n  if (this.settings.onDestroy) return this.settings.onDestroy();\n}\n\nfunction updatePositions(options) {\n  this.settings = extend(this.settings, options);\n  this.data = updatePositionData(this.data);\n\n  if (this.settings.onUpdatePositions) return this.settings.onUpdatePositions();\n}\n\nconst scrollnav = {\n  init: init,\n  destroy: destroy,\n  updatePositions: updatePositions\n};\n\nexport default scrollnav;\n"],"names":["extend","defaults","options","extended","prop","Object","prototype","hasOwnProperty","call","getOrSetID","elem","setID","Promise","reject","Error","id","getYPosition","parent","document","body","bodyRect","getBoundingClientRect","elemRect","top","nextUntil","selector","filter","siblings","nextElementSibling","matches","push","populateSectionData","sections","settings","prefix","sectionData","forEach","i","subSectionData","subSections","subSectionDom","text","innerText","textContent","offsetTop","createList","data","isSubList","suffix","baseClass","olElem","createElement","classList","add","item","liElem","setAttribute","appendChild","aElem","linkText","createTextNode","length","subList","createNav","nav","className","insertNav","scrollnav","target","insertTarget","location","insertLocation","insertBefore","firstChild","parentNode","nextSibling","updatePositionData","section","sectionDom","querySelector","insertVisualDebugger","snDebugger","getTargetYPosition","getAttribute","charAt","substr","targetSection","filterData","undefined","calculateScrollDuration","distance","halfDistance","Math","abs","min","max","easeIn","p","t","pow","easeOut","easeInOut","easing","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","scrollTo","targetPosition","easingStyle","resolve","startingPosition","window","pageYOffset","duration","framerate","increment","ellapsedTime","easedTime","next","animateScroll","scroll","setTimeout","setupClickHandlers","clickHandler","event","preventDefault","activeArea","innerHeight","targetYPosition","scrollYTarget","then","updateHistory","history","replaceState","onScroll","links","querySelectorAll","link","addEventListener","getActiveSection","boundryTop","boundryBottom","activeSection","activeSubSection","updateActiveNavItem","previousActive","remove","removeAttribute","newActive","setupScrollHandler","scrollHandler","scrollY","scrollTop","setupResizeHandler","resizeHandler","teardownClickHandlers","removeEventListener","teardownScrollHandler","teardownResizelHandler","isElement","element","Element","init","locationOptions","debug","console","error","includes","sectionsDom","onInit","destroy","teardownResizeHandler","onDestroy","updatePositions","onUpdatePositions"],"mappings":"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"}